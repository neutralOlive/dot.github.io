

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="fonts.css">
    <link href="http://fonts.cdnfonts.com/css/lithium-typeface-lt" rel="stylesheet">
                
    <style>

@import url('https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap');
@import url('http://fonts.cdnfonts.com/css/lithium-typeface-lt');
@import url('https://fonts.googleapis.com/css2?family=Cutive+Mono&family=Neuton&display=swap');
                

/* @import url('https://fonts.googleapis.com/css2?family=Cutive+Mono&display=swap'); */
        /* Webfont: Reforma 1918 Blanca */@font-face {
            font-family: 'Reforma1918';
            src: url('Reforma1918/Reforma1918-Blanca.woff2') format('woff2'), /* /* Super Modern Browsers */
                url('Reforma1918/Reforma1918-Blanca.woff') format('woff'), /* Modern Browsers */
                url('Reforma1918/Reforma1918-Blanca.eot') format('woff'),
                url('Reforma1918/Reforma1918-Blanca.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        /* Webfont: Adelphe-Floreal */@font-face {
            font-family: 'Adelphe-Floreal';
            src: url('Adelphe/Adelphe-FlorealRegular.woff2') format('woff2'), /* /* Super Modern Browsers */
                url('Adelphe/Adelphe-FlorealRegular.woff') format('woff'), /* Modern Browsers */
                url('Adelphe/Adelphe-FlorealRegular.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Jicaleta-Regular';
            src: url('Jicaleta-Regular/Jicaleta-Regular.woff2') format('woff2'), /* /* Super Modern Browsers */
                url('Jicaleta-Regular/Jicaleta-Regular.woff') format('woff'), /* Modern Browsers */
                url('Jicaleta-Regular/Jicaleta-Regular.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'WollstonecraftRomance-Regular';
            src:
                url('WollstonecraftRomance-Regular.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }



        
        @font-face {
            font-family: 'Gloock-Regular';
            src:
                url('Gloock-Regular.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'Navicula';
            src:
                url('Navicula.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'macherie';
            src:
                url('macherie.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        
        @font-face {
            font-family: 'Merchant-Condensed';
            src:
                url('Merchant-Condensed.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        
        @font-face {
            font-family: 'Merchant-Expanded';
            src:
                url('Merchant-Expanded.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'Merchant-ExtraLight';
            src:
                url('Merchant-ExtraLight.ttf') format('truetype');   /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'Merchant-ExtraLightCondensed';
            src:
                url('Merchant-ExtraLightCondensed.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        

        /* Webfont: Reforma1918 Gris */@font-face {
            font-family: 'Reforma1918';
            src: url('Reforma1918/Reforma1918-Gris.woff2') format('woff2'), /* /* Super Modern Browsers */
                url('Reforma1918/Reforma1918-Gris.woff') format('woff'), /* Modern Browsers */
                url('Reforma1918/Reforma1918-Gris.eot') format('woff'),
                url('Reforma1918/Reforma1918-Gris.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 500;
            text-rendering: optimizeLegibility;
        }
        /* Webfont: Reforma1918 Gris */@font-face {
            font-family: 'DTNightingale-Light';
            src: 
                url('DTNightingale-Light/DTNightingale-Light.ttf') format('truetype');   /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        

        @font-face {
            font-family: 'Merchant-Light';
            src: 
                url('Merchant-Light.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-LightCondensed';
            src: 
                url('Merchant-LightCondensed.ttf') format('truetype');   /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-LightExpanded';
            src: 
                url('Merchant-LightExpanded.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-Medium';
            src: 
                url('Merchant-Medium.ttf') format('truetype');   /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-MediumCondensed';
            src: 
                url('Merchant-MediumCondensed.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-MediumExpanded';
            src: 
                url('Merchant-MediumExpanded.ttf') format('truetype');   /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-Regular';
            src: 
                url('Merchant-Regular.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-SemiBold';
            src: 
                url('Merchant-SemiBold.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'Merchant-SemiBoldCondensed';
            src: 
                url('Merchant-SemiBoldCondensed.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-SemiBoldExpanded';
            src: 
                url('Merchant-SemiBoldExpanded.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-Thin';
            src: 
                url('Merchant-Thin.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-ThinCondensed';
            src: 
                url('Merchant-ThinCondensed.ttf') format('truetype');    /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }
        @font-face {
            font-family: 'Merchant-ThinExpanded';
            src: 
                url('Merchant-ThinExpanded.ttf') format('truetype');     /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        @font-face {
            font-family: 'Almo_Andrea_FontlabARROW';
            src: 
                url('Almo_Andrea_FontlabARROW.ttf') format('truetype');  /* Safari, Android, iOS */
            font-style: normal;
            font-weight: 300;
            text-rendering: optimizeLegibility;
        }

        body {
            /* font-family: sans-serif; */
            /* display: grid; */
            /*height: 100vh;*/
            /* place-items: center; */
            /* background-color: #f5f5f5; */

            /* justify-content: center;
            align-items: center; */
            /* height: 100%;
            width: 100%; */
            /* font-family: 'Cutive Mono', monospace; */
            font-display: optional;
        }

        .base-timer {
            /* position: relative; */
            /* width: 300px;
            height: 300px; */
            /* width: 180px;
            height: 180px; */
            /* 325 */
            
            /* position: absolute;
            top: 50%;
            transform: translate(0, -50%);
            text-align: center; */
            /* left: 50%; */

            font-display: optional;
            margin: auto;
            /* width: 1em;
            height: 1em; */
            /* border:  1px solid blue; */

        }

        .base-timer__svg {
            transform: scaleX(-1)translate(0, 75%);
            width: 180px;
            height: 180px
            /* border:  1px solid red; */
            
            /* transform: scale(2); */

            /* transform: translate(0, 50%); */
            /* -webkit-transform: scale(0.65, 0.65); */
        }

        .base-timer__circle {
            /*background-color: yellow;*/
            /* border:  2px solid navajowhite; */
            /*height: 50px;*/
            /*width: 50px;*/
             /*fill: #EBEBEB; */
            /* fill: #CCBFBC; */

            /* fill: navajowhite; */
            /* fill: blue; */
            /* stroke: none; */
            /* transform: translate(-48.5%, 24.95%); */
            /* height: 180px;
            width: 180px; */
            /* border: 1px solid black; */

            fill: none;
        }


        .base-timer__path-remaining {
            /*stroke-width: 7px;*/
            /* 45px; */
            /*stroke-linecap: round;*/
            /* border: 2px solid red; */

            /* stroke-linecap: round; */

            transform: rotate(90deg)  translate(50%, 50%);
            transform-origin: center;
            transition: 1s linear stroke-dasharray;
            fill-rule: nonzero;
            stroke: currentColor;

            stroke-width: 90px;
            /* transform: translate(0, 50%); */
            /* -webkit-transform: scale(0.65, 0.65); */
        }

        .base-timer__path-remaining.green {
            /* color: rgb(65, 184, 131); */
            /* color: #EBEBEB; */
            /* color: #CCBFBC; 1026 이거 */
            /* color: white; */
            /* color: #d3bcb2; */

            color: black;
            
        }

        .base-timer__path-remaining.orange {
            /* color: orange; */

            /* color: #F7BD20; */
            color: black;
        }

        .base-timer__path-remaining.red {
            /* color: red; */

            /* color: #B92C64; */
            color: black;
        }

        .base-timer__label {
            /* 
            width: 325px;
            height: 325px;
            top: 50%;
            display: flex;
            align-items: center;
            justify-content: center; */
            /*font-size: 48px;*/
            /* font-weight: lighter; */
            /* font-size: 30px; 1026 */
            /* width: 300px;
            height: 300px; */
            /*background-color: yellow;*/
            /* color: #1a2536; 1026 */
            

            /* font-size: 15px;
            letter-spacing: 23px;
            text-indent: 23px;
            font-family: 'Lithium Typeface (LT)', sans-serif;  */

            /* font-size: 14px;
            letter-spacing: 25px;
            text-indent: 25px;
            font-family: 'Merchant-ExtraLight'; 
            margin-top: 275px;  */

            /* font-size: 17px; */
            /* 15 */
            /* letter-spacing: 25px;
            text-indent: 25px;
            margin-top: 275px; 
            font-family: 'Merchant-ExtraLightCondensed';  */
            /* -webkit-transform: scale(1, 0.85); */


            /* font-size: 12px;
            letter-spacing: 25px;
            text-indent: 25px; 
            font-family: 'Merchant-Light'; 
            margin-top: 275px; */


            /* font-size: 18px;
            letter-spacing: 25px;
            text-indent: 25px;
            font-family: 'Neuton', serif;
            margin-top: 268px;
            -webkit-transform: scale(1, 0.9); */


            /* font-size: 13px;
            letter-spacing: 25px;
            text-indent: 25px;
            font-family: 'WollstonecraftRomance-Regular';  */

            font-family: 'EB Garamond', serif; 
            font-size: 15.5px;
            text-indent: 25px;
            letter-spacing: 25px;
            -webkit-transform: scale(1, 0.8755);
            margin-top: 190px;



            /* letter 25px */
            /* margin: auto; */
            /* vertical-align:top; */
            /* margin-top: 275px; */
            text-align: center;
            /* left: 50%; */
            /* top: 65%; */
            /* position: absolute; */
            /* display: block; */
            /* transform: translate(0, 100%); */
            font-display: optional;
            /* line-height: 15px; */
            /* font-weight: 300;  */
            /* font-style: normal; */
            color: black;
            /* display: block */
            
            
            /* font-family: 'Almo_Andrea_FontlabARROW';
            font-size: 15px;
            text-indent: 27px;
            letter-spacing: 27px; */


            /* transform: scale(1, 0.85); */
            /* Safari and Chrome */
            /* -webkit-transform: scale(1, 0.85); */
            /* Firefox */
            /* -moz-transform: scale(1, 1.5);  */
            /* IE 9+ */
            /* -ms-transform: scale(1, 1.5); */
            /* Opera */
            /* -o-transform: scale(1, 1.5); */
        }

        svg {
            /* display: block; */
            /* transition: 0.5s linear all; */
            /* display: block; */
            
            /* height: 183px;
            width: 183px; */
            margin: auto;
            /* z-index: 0; */
            
        }

        .center {
            /* vertical-align:top; */
            /* display: flex; */
            /* border: 1px solid black; */
            /* width: 500px; */
            /* height: 500px; */
            /* height: 40%; */
            /* align-items: center; */

            /* position: absolute; */
            /* left: 50%;
            top: 55%;
            transform: translate(-50%, -50%);
            justify-content: center;
            align-items: center;
            margin: auto;
            text-align: center;
            transform: translate(0, -50%);
            text-align: center;
            width: auto; */

            /* position: absolute; */
            top: 50%;
            left: 50%;
            /* transform: translate(0, -50%); */
            text-align: center;
        }

        #container {

            /* transform: translate(0, 117.5%); */
            justify-content: center;
            align-items: center;
            margin: auto;
            text-align: center;
            /* position: absolute; */
            left: 50%;
            /* top: 50%; */

        }

        #root {
            /* height: 291.24px;
            width: 180px;
            position: absolute; 
            left: 50%;
            top: 55%; */
        }
        #test__remove {
            font-size: 15px;
            float: right;
            text-indent: 25px;
            
            margin: 25px;
            margin-top: 15px;
            padding: 25px;
            line-height: 35px;
            font-family: Arial, Helvetica, sans-serif;
            
        }

        .test2 {
            font-size: 15px;
            letter-spacing: 25px;
            text-indent: 25px;
            font-family: Georgia, 'Times New Roman', Times, serif;
            

            margin-top: 15px;
            /* margin-top: 275px; */
            text-align: center;
            font-display: optional;
            line-height: 15px;
            font-style: normal;
            color: black;
            /* display: none; */
        }

        #text_thumbnail {
            font-family: 'EB Garamond', serif; 
            font-size: 155px;
            /* text-indent: 25px;
            letter-spacing: 25px; */

        }
    </style>
    <title>Timer</title>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

</head>
<body>
    <a href="mobile.html">Mobile version</a>
    <div id="root">
        <!-- <div id="base-timer" class="base-timer"></div> -->
        <div class="base-timer center" id="container">
            <!-- <svg height="100" width="100">
                <circle cx="90" cy="180" r="90" fill="red"/>
            </svg> -->
            <!-- <div class="circle" id="circle-cover"></div> -->
            <svg id="base-timer__svg" width="180px" height="180px" viewbox="0 0 290 290" class="base-timer__svg" xmlns="http://www.w3.org/2000/svg" style="overflow: visible">
                
                <g class="base-timer__circle">
                    <!-- <circle class="base-timer__path-elapsed" cx="180" cy="45" r="90"></circle> -->
                    <!-- <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" /> -->
                    <!-- <circle cx="180" cy="45" r="90" fill="red"/> this -->
                    <path 
                        id="base-timer-path-remaining"
                        stroke-dasharray="283"
                        class="base-timer__path-remaining green"
                        d="
                            M 0, 0
                            m 0, 0
                            a 45,45 0 1,0 90,0
                            a 45,45 0 1,0 -90,0
                        "

                    ></path>
                    <!-- <path 
                        width="180"
                        height="180"
                        id="base-timer-path-remaining"
                        stroke-dasharray="283"
                        class="base-timer__path-remaining green"
                        d="
                            M 0, 0
                            m 0, 0
                            a 45,45 0 1,0 90,0
                            a 45,45 0 1,0 -90,0
                        "

                    ></path> -->
                </g>
            </svg>
        </div>
        <div id="base-timer-label" class="base-timer__label">00:00</div>

    </div>
    

    <script src="NoSleep.min.js"></script>

    <script>
        
        // Credit: Mateusz Rybczonek
    
        const FULL_DASH_ARRAY = 283;
        const WARNING_THRESHOLD = 120;// 10;
        const ALERT_THRESHOLD = 60;//5;
    
        const COLOR_CODES = {
            info: {
                color: "green"
            },
            warning: {
                color: "orange",
                threshold: WARNING_THRESHOLD
            },
            alert: {
                color: "red",
                threshold: ALERT_THRESHOLD
            }
        };
    
        var TIME_LIMIT = 1500;// 5;
        var timePassed = 0;
        var timeLeft = TIME_LIMIT;
        var timerInterval = null;
        var remainingPathColor = COLOR_CODES.info.color;

        // document.getElementById("base-timer__svg").innerHTML = `
            
        //             <g class="base-timer__circle">
        //                 <path
        //                     id="base-timer-path-remaining"
        //                     stroke-dasharray="283"
        //                     class="base-timer__path-remaining ${remainingPathColor}"
        //                     d="
        //                         M 0, 0
        //                         m 0, 0
        //                         a 45,45 0 1,0 90,0
        //                         a 45,45 0 1,0 -90,0
        //                     "
        //                 ></path>
        //             </g>

        //     `;
    


        var circleCover = document.getElementById("circle-cover");
        var pathRemaining = document.getElementById("base-timer-path-remaining");
        var baseTimerLabel = document.getElementById("base-timer-label");
        var baseTimerSVG = document.getElementById("base-timer__svg");
        baseTimerLabel.innerHTML = formatTime(
            timeLeft
        );
        startTimer();
        var rest = 0;

        function onTimesUp() {
            clearInterval(timerInterval);

            if (rest == 0) {

                // timePassed = timePassed += 1;
                // timeLeft = TIME_LIMIT - timePassed;
                // setCircleDasharray();
                // setRemainingPathColor(timeLeft);
                rest = 1;
                TIME_LIMIT = 300; // 5;
                // console.log(baseTimerSVG);
                // baseTimerSVG.setAttribute("viewbox", "0 0 90 90");
                pathRemaining.style.strokeWidth = "0.75px";
                pathRemaining.style.transform = "translate(-50%, 80%) rotate(90deg)";
                baseTimerSVG.style.transform = "scale(2) scaleX(-1)";
                // pathRemaining.style.transition = "0s all";
                // baseTimerSVG.style.transform = "scaleX(-1)";
                // pathRemaining.style.transition = "1s linear all";
                /* stroke-width: 0.75px; */
                // viewbox="0 0 90 90"  
                timePassed = 0;
                timeLeft = TIME_LIMIT;
                timerInterval = null;
                // remainingPathColor = COLOR_CODES.alert.color;
                // alert(timeLeft);
                console.log(timeLeft);
                baseTimerLabel.innerHTML = formatTime(
                    timeLeft
                );
                // circleCover.style.backgroundColor = "white";
                setCircleDasharray();
                setRemainingPathColor(timeLeft);
                startTimer();

            } else {
                
                // timePassed = timePassed += 1;
                // timeLeft = TIME_LIMIT - timePassed;
                // setCircleDasharray();
                // setRemainingPathColor(timeLeft);
                rest = 0;
                TIME_LIMIT = 1500;
                timePassed = 0;
                timeLeft = TIME_LIMIT;
                timerInterval = null;
                // const { alert, warning, info } = COLOR_CODES;
                console.log(timeLeft);
                // console.log(baseTimerSVG);

                // baseTimerSVG.removeAttribute("viewbox");
                // pathRemaining.style.transition = "0s all";
                pathRemaining.style.strokeWidth = "90px";
                pathRemaining.style.transform = null;
                // pathRemaining.style.transition = "1s linear all";
                
                baseTimerSVG.style.transform = null;

                
                // circleCover.style.backgroundColor = "transparent";
                baseTimerLabel.innerHTML = formatTime(
                    timeLeft
                );
                pathRemaining
                .classList.remove(COLOR_CODES.alert.color);

                pathRemaining
                .classList.add(COLOR_CODES.info.color);

                setCircleDasharray();
                setRemainingPathColor(timeLeft);
                // remainingPathColor = COLOR_CODES.info.color;// COLOR_CODES.info.color;
                // alert(timeLeft);
                startTimer();
            }
        }
        
        function startTimer() {
            timerInterval = setInterval(() => {
                timePassed = timePassed += 1;
                timeLeft = TIME_LIMIT - timePassed;
                // alert(timeLeft);
                // console.log(timeLeft);
                document.getElementById("base-timer-label").innerHTML = formatTime(
                    timeLeft
                );

                setCircleDasharray();
                setRemainingPathColor(timeLeft);
                if (timeLeft === 0) {
                    // clearInterval(timerInterval);
                    // setTimeout(function (){
                        // Something you want delayed.
                    onTimesUp();

                    // }, 2000);
                    
                }
            }, 1000);
        }
        
        function formatTime(time) {
            if (time === 0) {
                return '00:00';
            }
            // console.log("formattime");
            let minutes = Math.floor(time / 60);
            let seconds = time % 60;


            if (seconds < 10) {
                seconds = `0${seconds}`;
            }

            if (minutes < 10) {
                minutes = `0${minutes}`;
            }
            
            return `${minutes}:${seconds}`;
        }
        
        function setRemainingPathColor(timeLeft) {
            const { alert, warning, info } = COLOR_CODES;
            if (timeLeft <= alert.threshold) {
                document
                .getElementById("base-timer-path-remaining")
                .classList.remove(warning.color);
                document
                .getElementById("base-timer-path-remaining")
                .classList.add(alert.color);
            } else if (timeLeft <= warning.threshold) {
                document
                .getElementById("base-timer-path-remaining")
                .classList.remove(info.color);
                document
                .getElementById("base-timer-path-remaining")
                .classList.add(warning.color);
            }
        }
        
        function calculateTimeFraction() {
            const rawTimeFraction = timeLeft / TIME_LIMIT;
            // console.log("raw", rawTimeFraction);
            return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);
        }
        
        function setCircleDasharray() {
            const circleDasharray = `${(
                calculateTimeFraction() * FULL_DASH_ARRAY
            ).toFixed(0)} 283`;
            // console.log(circleDasharray);
            pathRemaining.setAttribute("stroke-dasharray", circleDasharray);
            // console.log(timeLeft, ",", circleDasharray);
        }

        function removeAlertLayer(savedAlertLayer) {
            // credit: https://stackoverflow.com/questions/33424138/how-to-remove-a-div-with-fade-out-effect-in-javascript
            speed = 2500;
            var seconds = speed/1000;
            savedAlertLayer.style.transition = "opacity "+seconds+"s ease";
            savedAlertLayer.style.opacity = 0;
            setTimeout(function() {
                savedAlertLayer.parentNode.removeChild(savedAlertLayer);
            }, speed);
        }

        function showSavedAlert() {
            var savedAlertLayer = document.createElement("DIV");
            savedAlertLayer.appendChild(document.createTextNode("No Sleep"));
            savedAlertLayer.style.position = 'absolute';
            savedAlertLayer.style.left = '10px';
            savedAlertLayer.style.top = '30px';
            savedAlertLayer.style.width = '700px';
            savedAlertLayer.style.height = '100px';
            savedAlertLayer.style.fontSize = "20px";
            savedAlertLayer.style.padding = '15px';
            savedAlertLayer.style.fontWeight = "bold";
            savedAlertLayer.style.color = "black";
            document.body.appendChild(savedAlertLayer);
            setTimeout(function() {
                removeAlertLayer(savedAlertLayer);
            }, 1000);
        }
        
        // iOS: 
        // https://github.com/richtr/NoSleep.js
        var noSleep = new NoSleep();
        // Enable wake lock.
        // (must be wrapped in a user input event handler e.g. a mouse or touch handler)
        document.addEventListener('click', function enableNoSleep() {
        // window.addEventListener('load', (event) => {
            // document.removeEventListener('click', enableNoSleep, false);
            noSleep.enable();
            console.log("noSleep enabled");
            showSavedAlert();
        });


        // CHROME:
            // test support
        let isSupported = false;

        if ('wakeLock' in navigator) {
            isSupported = true;
            // statusElem.textContent = 'Screen Wake Lock API supported 🎉';
        } else {
            // if (wakeButton) {
            //     wakeButton.disabled = true;
            // }
            // statusElem.textContent = 'Wake lock is not supported by this browser.';
        }

        if (isSupported) {
        // create a reference for the wake lock
            let wakeLock = null;

            // create an async function to request a wake lock
            const requestWakeLock = async () => {
                try {
                    wakeLock = await navigator.wakeLock.request('screen');

                    // change up our interface to reflect wake lock active
                    changeUI();

                    // listen for our release event
                    wakeLock.onrelease = function(ev) {
                        // console.log(ev);
                    }

                } catch (err) {
                    // if wake lock request fails - usually system related, such as battery
                    // wakeButton.dataset.status = 'off';
                    // wakeButton.textContent = 'Turn Wake Lock ON';
                    // statusElem.textContent = `${err.name}, ${err.message}`;
                }
            } // requestWakeLock()

        } // isSupported



    </script>
</body>

</html>
